<!DOCTYPE html>
<html lang="it" class="h-100">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Imbriani Stefano Noleggio</title>
  <meta name="description" content="Imbriani Stefano Noleggio - Prenotazione e accesso clienti. Verifica disponibilità e richiesta preventivo.">
  <meta name="theme-color" content="#0066FF">
  <meta name="robots" content="index, follow">
  <meta name="referrer" content="no-referrer">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://fonts.googleapis.com https://fonts.gstatic.com https://script.google.com https://script.googleusercontent.com; style-src 'self' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://fonts.googleapis.com; img-src 'self' data:; connect-src 'self' https://imbriani-proxy.dreenhd.workers.dev https://script.google.com https://script.googleusercontent.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; object-src 'none'; base-uri 'self'; frame-ancestors 'none';">
  <link rel="canonical" href="https://xdren98.github.io/imbriani-stefano-noleggio/">
  <meta name="google-site-verification" content="ie4dmGl4Uomtol4-87-smX6os_CNjh2U3a5JA9UTn_A">
  <!-- Open Graph -->
  <meta property="og:title" content="Imbriani Stefano Noleggio – Prenota pulmino 9 posti">
  <meta property="og:description" content="Noleggio pulmini 9 posti. Verifica disponibilità e richiedi preventivo in pochi click.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://xdren98.github.io/imbriani-stefano-noleggio/">
  <meta property="og:image" content="pwa/icons/android-icon-192x192.webp">
  <meta property="og:image:type" content="image/webp">
  <meta property="og:image:width" content="192">
  <meta property="og:image:height" content="192">
  <meta property="og:image:alt" content="Imbriani Stefano Noleggio Logo">
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Imbriani Stefano Noleggio – Pulmino 9 posti">
  <meta name="twitter:description" content="Prenota un pulmino 9 posti: verifica disponibilità e richiedi preventivo.">
  <meta name="twitter:image" content="pwa/icons/android-icon-192x192.webp">
  <meta name="twitter:image:alt" content="Imbriani Stefano Noleggio Logo">
  
  <!-- DNS Prefetch & Preconnect for external resources -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="dns-prefetch" href="https://imbriani-proxy.dreenhd.workers.dev">
  
  <!-- PWA -->
  <link rel="manifest" href="pwa/manifest.json">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Imbriani">
  <link rel="apple-touch-icon" href="pwa/icons/apple-icon-180x180.webp">
  <link rel="icon" type="image/webp" sizes="180x180" href="pwa/icons/apple-icon-180x180.webp">
  <link rel="icon" type="image/png" sizes="180x180" href="pwa/icons/apple-icon-180x180.png">
  
  <!-- Preload critical resources -->
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" as="style" fetchpriority="high">
  <link rel="preload" href="styles.css?v=8012" as="style" fetchpriority="high">
  
  <!-- CSS Frameworks & Fonts - Optimized loading -->
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" as="style" fetchpriority="medium" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"></noscript>
  
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" as="style" fetchpriority="low" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"></noscript>
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=optional" rel="stylesheet" media="print" onload="this.media='all'">
  <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"></noscript>
  
  <link rel="stylesheet" href="styles.css?v=8012">
  <link rel="stylesheet" href="patches/contrast-fixes.css?v=101">
  <script src="scripts/perf-monitor.js" defer></script>
  <!-- Structured Data JSON-LD: CarRental / Organization -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "CarRental",
    "@id": "https://xdren98.github.io/imbriani-stefano-noleggio/",
    "name": "Imbriani Stefano Noleggio",
    "alternateName": "Imbriani Steafno Noleggio",
    "url": "https://xdren98.github.io/imbriani-stefano-noleggio/",
    "telephone": "+39 328 658 9618",
    "areaServed": "Italia",
    "brand": {
      "@type": "Brand",
      "name": "Imbriani Stefano"
    },
    "offers": {
      "@type": "Offer",
      "category": "Pulmini 9 posti",
      "availability": "https://xdren98.github.io/imbriani-stefano-noleggio/veicoli.html"
    }
  }
  </script>
  
  <!-- Critical CSS inline -->
  <style>
    .hero-section{min-height:100svh;display:grid;align-items:start;padding:clamp(24px,6vh,56px) 0 clamp(16px,4vh,40px);contain:layout style paint}
    .display-1-modern{font-size:clamp(2rem,4vw,3rem)}
    .card-sep-title{font-weight:800;letter-spacing:-0.02em}
    .card-sub{color:#94A3B8}
    .v-sep{position:relative}
    .v-sep::before{content:"";position:absolute;top:0;bottom:0;left:50%;width:2px;background:linear-gradient(180deg,rgba(99,102,241,.25),rgba(139,92,246,.25));filter:blur(.2px);transition:box-shadow .35s cubic-bezier(.4,0,.2,1)}
    .v-sep:hover::before{box-shadow:0 0 16px 0 rgba(118,75,162,.18),0 0 32px 0 #6457fa33,0 0 8px 0 #fff6}
    @media (max-width: 991.98px){.v-sep::before{display:none}}
    .vehicle-card{cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1)}
    .vehicle-card:hover{transform:translateY(-4px)}
    .vehicle-card.selected{border-color:#0066FF !important;box-shadow:0 0 0 3px rgba(0,102,255,.1)}
    .vehicle-card.disabled{opacity:.5;cursor:not-allowed}
    .modal-vehicle-select{backdrop-filter:blur(20px);background:rgba(0,0,0,.7)}
    input[type="date"].form-control-modern{position:relative;z-index:10;cursor:pointer;padding:0.75rem 1rem;min-height:48px}
    input[type="date"].form-control-modern::-webkit-calendar-picker-indicator{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;cursor:pointer;opacity:0;z-index:2}
    .form-control-modern[type="date"]{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%236c757d' viewBox='0 0 16 16'%3E%3Cpath d='M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 0.75rem center;background-size:16px;padding-right:2.5rem}
  </style>
</head>
<body class="d-flex flex-column h-100">
  <a href="#main" class="skip-link">Salta al contenuto</a>
  <main class="hero-section flex-grow-1" id="main" role="main" aria-live="polite">
    <div class="container">
      <div class="text-center mb-5 animate-fade-in-up">
        <h1 class="display-1-modern hero-title mb-3">Imbriani Stefano Noleggio</h1>
        <p class="lead-modern mx-auto" style="max-width:720px">Prenota il tuo pulmino 9 posti con il sistema più moderno e sicuro d'Italia. Gestione digitale completa, supporto 24/7.</p>
      </div>
      <div class="row g-4 align-items-stretch v-sep">
        <div class="col-lg-6">
          <div class="glass-card h-100 p-4">
            <h3 class="card-sep-title d-flex align-items-center mb-2"><i class="fas fa-user-plus me-2 text-success"></i>Nuovo Cliente</h3>
            <p class="card-sub mb-4">Verifica disponibilità e richiedi il preventivo.</p>
            <div class="mb-3">
              <h6 class="fw-bold mb-2"><span class="badge bg-primary me-2">1</span> Verifica disponibilità</h6>
              <div class="row g-3">
                <div class="col-md-6"><label class="form-label fw-semibold" for="new-data-ritiro">Data Ritiro</label><input type="date" id="new-data-ritiro" class="form-control form-control-modern" required aria-required="true"></div>
                <div class="col-md-6"><label class="form-label fw-semibold" for="new-ora-ritiro">Ora Ritiro</label><select id="new-ora-ritiro" class="form-select form-control-modern" required aria-required="true"><option>08:00</option><option>10:00</option><option>12:00</option><option>14:00</option><option>16:00</option><option>18:00</option><option>20:00</option><option>22:00</option></select></div>
                <div class="col-md-6"><label class="form-label fw-semibold" for="new-data-consegna">Data Consegna</label><input type="date" id="new-data-consegna" class="form-control form-control-modern" required aria-required="true"></div>
                <div class="col-md-6"><label class="form-label fw-semibold" for="new-ora-consegna">Ora Consegna</label><select id="new-ora-consegna" class="form-select form-control-modern" required aria-required="true"><option>08:00</option><option>10:00</option><option>12:00</option><option>14:00</option><option>16:00</option><option>18:00</option><option>20:00</option><option>22:00</option></select></div>
                <div class="col-md-6"><label class="form-label fw-semibold">Posti</label><select id="new-posti" class="form-select form-control-modern"><option value="9" selected>9 posti</option></select></div>
                <div class="col-md-6 d-grid align-self-end"><button type="button" id="check-disponibilita" class="btn btn-premium" aria-label="Verifica disponibilità"><i class="fas fa-search me-2" aria-hidden="true"></i>Verifica disponibilità</button></div>
              </div>
            </div>
            <div id="step-preventivo" class="d-none">
              <h6 class="fw-bold mb-2"><span class="badge bg-success me-2">2</span> Richiedi il preventivo (obbligatorio)</h6>
              <div id="veicolo-selezionato" class="alert alert-info mb-3"></div>
              <div class="row g-3">
                <div class="col-md-6"><label class="form-label fw-semibold" for="nuovo-nome">Nome</label><input type="text" id="nuovo-nome" class="form-control form-control-modern" placeholder="Mario" required aria-required="true"></div>
                <div class="col-md-6"><label class="form-label fw-semibold" for="nuovo-cognome">Cognome</label><input type="text" id="nuovo-cognome" class="form-control form-control-modern" placeholder="Rossi" required aria-required="true"></div>
              </div>
              <div class="d-flex flex-wrap gap-2 mt-3">
                <a id="cta-whatsapp" target="_blank" class="btn btn-success" aria-label="Richiedi preventivo su WhatsApp"><i class="fab fa-whatsapp me-2" aria-hidden="true"></i>Richiedi preventivo su WhatsApp</a>
                <a href="tel:3286589618" class="btn btn-outline-light" aria-label="Chiama 328 658 9618"><i class="fas fa-phone me-2" aria-hidden="true"></i>Chiama 328 658 9618</a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="glass-card h-100 p-4">
            <h3 class="card-sep-title d-flex align-items-center mb-2"><i class="fas fa-user-check me-2 text-primary"></i>Cliente Esistente</h3>
            <p class="card-sub mb-4">Accedi alla tua area riservata per gestire le prenotazioni.</p>
            <div class="text-center mb-4">
              <div class="d-inline-flex align-items-center justify-content-center" style="width:80px;height:80px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border-radius:50%;margin-bottom:24px">
                <i class="fas fa-id-card text-white" style="font-size:2rem"></i>
              </div>
            </div>
            <form class="needs-validation" novalidate>
              <div class="mb-3">
                <label for="cf-input" class="form-label fw-semibold">Codice Fiscale</label>
                <div class="position-relative">
                  <input type="text" class="form-control form-control-modern" id="cf-input" placeholder="RSSMRA85M01H501Z" maxlength="16" autocomplete="off" style="padding-left:50px" pattern="^[A-Z]{6}[0-9]{2}[A-Z][0-9]{2}[A-Z][0-9]{3}[A-Z]$" title="Inserisci un Codice Fiscale valido (16 caratteri)" aria-describedby="cf-help" required aria-required="true">
                  <i class="fas fa-user position-absolute" style="left:18px;top:50%;transform:translateY(-50%);color:#94A3B8" aria-hidden="true"></i>
                </div>
                <div id="cf-help" class="form-text"><i class="fas fa-info-circle me-1" aria-hidden="true"></i>16 caratteri alfanumerici del tuo CF</div>
              </div>
              <div class="d-grid">
                <button type="button" id="login-btn" class="btn btn-premium" aria-label="Accedi all'Area Personale"><i class="fas fa-sign-in-alt me-2" aria-hidden="true"></i>Accedi all'Area Personale</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Scripts optimized with defer -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer fetchpriority="medium"></script>
  <script src="config.js" defer fetchpriority="high"></script>
  <script src="shared-utils.js" defer fetchpriority="high"></script>
  <script src="scripts.js" defer fetchpriority="medium"></script>
  <script src="booking-submit.js" defer fetchpriority="low"></script>
  
  
  <!-- PWA Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
          .then((registration) => { 
            console.log('✅ Service Worker registrato:', registration.scope);
            // Track SW registration performance
            if (window.perfMetrics) {
              window.perfMetrics.addCustomMetric('sw_registration', performance.now());
            }
          })
          .catch((error) => { console.error('❌ Errore registrazione SW:', error); });
      });
    }
  </script>
  <script src="pwa/push-notifications.js" defer></script>
</body>
</html>
